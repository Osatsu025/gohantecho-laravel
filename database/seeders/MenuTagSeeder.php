<?php

namespace Database\Seeders;

use Carbon\Carbon;
use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\DB;

class MenuTagSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
                // メニューと対応するタグの名前を定義
        $menuTags = [
            '鶏肉とじゃがいもの甘辛煮' => ['和食', '主菜', '晩ごはん', '簡単', '鶏肉', 'じゃがいも', 'フライパン1つ'],
            '卵と豆腐の中華スープ' => ['中華', '汁物', 'スープ', 'ヘルシー', '卵', '豆腐', '簡単'],
            'ツナとブロッコリーのパスタ' => ['洋食', '主菜', '昼ごはん', '時短', 'ツナ缶', 'ブロッコリー', 'パスタ'],
            '洋風ハンバーグ弁当' => ['洋食', '主菜', 'お弁当', 'ひき肉', 'たまねぎ', 'ボリューム'],
            '人参とツナのしりしり風' => ['和食', '副菜', '作り置き', '簡単', 'にんじん', 'ツナ缶', 'フライパン1つ'],
            'ピーマンとベーコンのきんぴら' => ['和食', '副菜', 'お弁当', '簡単', 'ピーマン', 'ベーコン', 'フライパン1つ', '時短', '作り置き'],
            'ほうれん草と卵の味噌汁' => ['和食', '汁物', 'スープ', '朝ごはん', 'ほうれん草', '卵', '簡単', 'ヘルシー'],
            'じゃがいもとウインナーの炒め物' => ['洋食', '主菜', 'お弁当', '簡単', 'じゃがいも', 'ウインナー', 'フライパン1つ', '朝ごはん', '時短'],
            '鮭と白菜のミルク煮' => ['洋食', '主菜', '冬の定番', '鮭', '白菜', '牛乳', '煮込み', '簡単', 'スープ'],
            'キャベツとハムのマヨ和え' => ['サラダ', '副菜', '簡単', 'キャベツ', 'ハム', 'マヨネーズ', '時短', '朝ごはん', 'お弁当'],
            // --- ここから追加のメニューとタグ (40件) ---
            '肉じゃが' => ['和食', '主菜', '煮込み', '豚肉', 'じゃがいも', 'にんじん', 'たまねぎ', '晩ごはん', '作り置き', '定番'],
            'サバの味噌煮' => ['和食', '主菜', '魚', '煮込み', '晩ごはん', 'ヘルシー', 'ごはんが進む', '定番', 'しょうが'],
            '親子丼' => ['和食', '主食', '丼物', '鶏肉', '卵', '簡単', '昼ごはん', '時短', '定番', 'たまねぎ'],
            '豚汁' => ['和食', '汁物', 'スープ', '豚肉', '野菜たっぷり', '冬の定番', '具だくさん', '味噌', '晩ごはん'],
            'オムライス' => ['洋食', '主食', '卵', '鶏肉', 'ケチャップライス', '子供人気', '昼ごはん', '定番', 'たまねぎ'],
            'グラタン' => ['洋食', '主菜', 'オーブン', 'チーズ', '鶏肉', 'マカロニ', '冬の定番', '熱々', '子供人気', '牛乳'],
            'ペペロンチーノ' => ['イタリアン', 'パスタ', '主食', 'にんにく', '唐辛子', '簡単', 'オリーブオイル', '時短', 'シンプル'],
            '麻婆豆腐' => ['中華', '主菜', '豆腐', 'ひき肉', '辛い', '晩ごはん', 'フライパン1つ', 'ごはんが進む', '定番', 'ねぎ'],
            '回鍋肉' => ['中華', '主菜', '豚肉', 'キャベツ', 'ピーマン', '味噌炒め', '晩ごはん', 'ボリューム', 'ごはんが進む'],
            'チャーハン' => ['中華', '主食', 'ごはん', '卵', '簡単', '残り物活用', '昼ごはん', 'パラパラ', '定番', 'ねぎ'],
            '天ぷら' => ['和食', '主菜', '揚げ物', 'えび', '野菜', 'ごちそう', 'サクサク', 'なす', 'かぼちゃ'],
            'だし巻き卵' => ['和食', '副菜', '卵', 'お弁当', '定番', '朝ごはん', 'ふわふわ', 'だし', '簡単'],
            '筑前煮' => ['和食', '主菜', '煮込み', '鶏肉', '根菜', '作り置き', 'お正月', '定番', 'にんじん', 'れんこん'],
            'おでん' => ['和食', '主菜', '煮込み', '冬の定番', '大根', '卵', '練り物', '温まる', 'だし', 'こんにゃく'],
            'ちらし寿司' => ['和食', '主食', '寿司', '魚介', '卵', 'お祝い', '彩り豊か', '簡単', 'きゅうり', 'れんこん'],
            'ひじきの煮物' => ['和食', '副菜', '海藻', '作り置き', 'ヘルシー', 'にんじん', '常備菜', '大豆', '油揚げ'],
            'ビーフシチュー' => ['洋食', '主菜', '煮込み', '牛肉', 'ごちそう', 'パンと', '赤ワイン', '冬の定番', 'たまねぎ', 'にんじん'],
            'ポークソテー' => ['洋食', '主菜', '豚肉', 'フライパン1つ', '簡単', '晩ごはん', 'ジューシー', 'ソース', 'にんにく'],
            'シーザーサラダ' => ['洋食', 'サラダ', '鶏肉', 'チーズ', 'クルトン', 'ヘルシー', 'おしゃれ', 'レタス', 'ベーコン'],
            'コーンスープ' => ['洋食', 'スープ', 'とうもろこし', '簡単', '朝ごはん', 'クリーミー', '子供人気', '牛乳'],
            'マルゲリータピザ' => ['イタリアン', '主食', 'ピザ', 'トマト', 'チーズ', 'バジル', '手作り', 'オーブン', '簡単'],
            'フレンチトースト' => ['洋食', 'デザート', '朝ごはん', 'パン', '卵', '牛乳', '簡単', 'ふわとろ', 'メープルシロップ', 'おやつ'],
            '鮭のムニエル' => ['洋食', '主菜', '魚', '鮭', 'バター', 'フライパン1つ', 'レモン風味', '簡単', '晩ごはん'],
            'エビチリ' => ['中華', '主菜', 'エビ', '辛い', 'トマトケチャップ', 'ごちそう', 'プリプリ', 'ごはんが進む', 'ねぎ'],
            '酢豚' => ['中華', '主菜', '豚肉', '野菜', '甘酢', '揚げ物', '彩り豊か', 'ボリューム', 'ピーマン', 'たまねぎ'],
            '春巻き' => ['中華', '副菜', '揚げ物', 'ひき肉', '野菜', 'お弁当', 'パリパリ', '手作り', 'たけのこ'],
            '餃子' => ['中華', '主菜', 'ひき肉', 'キャベツ', 'ニラ', '手作り', '焼餃子', '水餃子', '定番', 'にんにく'],
            'トムヤムクン' => ['エスニック', 'スープ', 'タイ料理', 'エビ', '辛い', '酸っぱい', 'ハーブ', 'きのこ', 'パクチー'],
            'ガパオライス' => ['エスニック', '主食', 'タイ料理', '鶏ひき肉', 'バジル', '目玉焼き', 'ナンプラー', '辛い', 'たまねぎ'],
            'フォー' => ['エスニック', '主食', 'ベトナム料理', '米粉麺', '鶏肉', 'ヘルシー', 'さっぱり', 'スープ', 'もやし'],
            'サンドイッチ' => ['洋食', '軽食', 'パン', 'ハム', 'チーズ', '野菜', 'お弁当', 'ピクニック', '簡単', '朝ごはん'],
            'フライドポテト' => ['洋食', 'おやつ', 'じゃがいも', '揚げ物', '簡単', '子供人気', 'おつまみ', '塩'],
            'パンケーキ' => ['洋食', 'デザート', '朝ごはん', '小麦粉', '卵', '牛乳', '簡単', 'ふわふわ', 'メープルシロップ', 'おやつ'],
            'フルーツポンチ' => ['デザート', 'フルーツ', '簡単', 'さっぱり', '子供人気', 'サイダー', '夏', 'いちご'],
            '大学芋' => ['和食', 'おやつ', 'さつまいも', '甘い', '揚げ物', 'ごま', '簡単', '作り置き', 'デザート'],
            '野菜スティック ディップ添え' => ['サラダ', '副菜', 'ヘルシー', '野菜', '簡単', 'おつまみ', 'ディップ', 'パーティー', 'きゅうり', 'にんじん'],
            'きのこのアヒージョ' => ['洋食', 'おつまみ', 'きのこ', 'にんにく', 'オリーブオイル', 'パンと', '熱々', '簡単', 'おしゃれ'],
            '鶏むね肉のハーブ焼き' => ['洋食', '主菜', '鶏肉', 'ヘルシー', 'オーブン', 'ハーブ', 'ダイエット', '簡単', '節約', 'フライパン1つ'],
            '冷奴 薬味たっぷり' => ['和食', '副菜', '豆腐', '簡単', 'ヘルシー', '夏メニュー', '薬味', 'さっぱり', '時短', 'しょうが'],
            'アボカドとエビのサラダ' => ['サラダ', '副菜', 'アボカド', 'エビ', 'ヘルシー', 'おしゃれ', 'マヨネーズ', '簡単', '前菜', 'トマト'],
        ];


        $now = Carbon::now();
        $menu_tag_data = [];

        foreach ($menuTags as $menuTitle => $tagNames) {
            $menu = DB::table('menus')->where('title', $menuTitle)->first();

            if (!$menu) {
                continue;
            }

            foreach ($tagNames as $tagName) {
                $tag = DB::table('tags')->where('name', $tagName)->first();

                if ($tag) {
                    $menu_tag_data[] = [
                        'menu_id' => $menu->id,
                        'tag_id' => $tag->id,
                        'created_at' => $now,
                        'updated_at' => $now,
                    ];
                }
            }
        }
        DB::table('menu_tag')->insert($menu_tag_data);
    }
}
