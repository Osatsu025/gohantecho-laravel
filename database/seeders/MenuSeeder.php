<?php

namespace Database\Seeders;

use App\Models\User;
use Carbon\Carbon;
use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\DB;

class MenuSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        $user = User::where('email', 'gohan@example.com')->first();

        $menus = [
            [
                'user_id' => $user->id,
                'title' => '鶏肉とじゃがいもの甘辛煮',
                'content' => <<<EOT
【材料】（2人分）
- 鶏もも肉：200g
- じゃがいも：2個（約300g）
- しょうゆ：大さじ2
- みりん：大さじ2
- 砂糖：大さじ1
- 水：100ml
- サラダ油：小さじ1

【作り方】
1. 鶏肉は一口大に、じゃがいもは皮をむいて乱切りにする。
2. フライパンに油を熱し、鶏肉を皮目から焼く。
3. じゃがいもを加えて軽く炒める。
4. 調味料と水を加え、蓋をして中火で10分ほど煮る。
5. 汁気が少なくなるまで煮詰めたら完成。
EOT,
                'public' => true,
            ],
            [
                'user_id' => $user->id,
                'title' => '卵と豆腐の中華スープ',
                'content' => <<<EOT
【材料】（2人分）
- 卵：1個
- 絹ごし豆腐：150g
- 水：400ml
- 鶏がらスープの素：小さじ2
- 塩こしょう：少々
- ごま油：小さじ1

【作り方】
1. 豆腐は1.5cm角に切る。卵は溶いておく。
2. 鍋に水と鶏がらスープの素を入れて沸騰させる。
3. 豆腐を加えて2〜3分煮る。
4. 溶き卵を回し入れ、ふんわりと火が通ったらごま油を垂らして完成。
EOT,
                'public' => true,
            ],
            [
                'user_id' => $user->id,
                'title' => 'ツナとブロッコリーのパスタ',
                'content' => <<<EOT
【材料】（2人分）
- パスタ：160g
- ツナ缶（オイルタイプ）：1缶
- 冷凍ブロッコリー：150g
- にんにく：1片
- オリーブオイル：大さじ1
- 塩こしょう：少々

【作り方】
1. パスタは袋の表示通りに茹でる。
2. ブロッコリーはレンジで解凍しておく。
3. フライパンにオリーブオイルを熱し、みじん切りにしたにんにくを炒める。
4. ツナとブロッコリーを加えて炒め、パスタを加えて塩こしょうで味を調える。
EOT,
                'public' => true,
            ],
            [
                'user_id' => $user->id,
                'title' => '洋風ハンバーグ弁当',
                'content' => <<<EOT
【材料】（2人分）
- 合いびき肉：250g
- 玉ねぎ：1/2個（みじん切り）
- 卵：1個
- パン粉：大さじ3
- 牛乳：大さじ2
- 塩こしょう：少々
- ケチャップ：大さじ2
- 中濃ソース：大さじ2

【作り方】
1. 玉ねぎは炒めて冷ましておく。
2. 材料をよく混ぜてこね、2等分して成形。
3. フライパンで焼き、火が通ったらソースとケチャップを入れて絡める。
EOT,
                'public' => true,
            ],
            [
                'user_id' => $user->id,
                'title' => '人参とツナのしりしり風',
                'content' => <<<EOT
【材料】（2人分）
- にんじん：1本
- ツナ缶：1缶
- 卵：1個
- しょうゆ：小さじ1
- サラダ油：小さじ1

【作り方】
1. にんじんは千切りにする。
2. フライパンに油を熱し、にんじんを炒める。
3. ツナと卵を加えて炒め、しょうゆで調味する。
EOT,
                'public' => false,
            ],
            [
                'user_id' => $user->id,
                'title' => 'ピーマンとベーコンのきんぴら',
                'content' => <<<EOT
【材料】（2人分）
- ピーマン：3個
- ベーコン：2枚
- 醤油：小さじ2
- みりん：小さじ2
- ごま：適量
- ごま油：小さじ1

【作り方】
1. ピーマンとベーコンを細切りにする。
2. ごま油で炒め、調味料で味をつける。
3. 最後にごまをふって完成。
EOT,
                'public' => true,
            ],
            [
                'user_id' => $user->id,
                'title' => 'ほうれん草と卵の味噌汁',
                'content' => <<<EOT
【材料】（2人分）
- ほうれん草：1/2束
- 卵：1個
- 味噌：大さじ2
- だし汁：400ml

【作り方】
1. ほうれん草を下茹でしてざく切りにする。
2. だし汁を沸かし、味噌を溶かす。
3. 卵を溶き入れ、火を止める直前にほうれん草を加える。
EOT,
                'public' => false,
            ],
            [
                'user_id' => $user->id,
                'title' => 'じゃがいもとウインナーの炒め物',
                'content' => <<<EOT
【材料】（2人分）
- じゃがいも：2個
- ウインナー：4本
- 塩こしょう：少々
- オリーブオイル：大さじ1

【作り方】
1. じゃがいもは細切り、ウインナーは斜め切りにする。
2. フライパンで炒め、塩こしょうで調味する。
EOT,
                'public' => true,
            ],
            [
                'user_id' => $user->id,
                'title' => '鮭と白菜のミルク煮',
                'content' => <<<EOT
【材料】（2人分）
- 生鮭：2切れ
- 白菜：1/8個
- 牛乳：200ml
- コンソメ：小さじ1
- バター：10g

【作り方】
1. 鮭は骨を取り、白菜はざく切りにする。
2. 鍋に白菜と鮭を重ね、牛乳とコンソメを加えて中火で煮る。
3. 火が通ったらバターを加えて完成。
EOT,
                'public' => true,
            ],
            [
                'user_id' => $user->id,
                'title' => 'キャベツとハムのマヨ和え',
                'content' => <<<EOT
【材料】（2人分）
- キャベツ：2枚
- ハム：2枚
- マヨネーズ：大さじ1
- 塩こしょう：少々

【作り方】
1. キャベツは千切りにしてレンジで加熱。
2. ハムは細切りにする。
3. すべてを混ぜて味を調えたら完成。
EOT,
                'public' => false,
            ],
        ];

        foreach ($menus as $menu) {
            DB::table('menus')->insert([
                'user_id' => $menu['user_id'],
                'title' => $menu['title'],
                'content' => $menu['content'],
                'public' => $menu['public'],
                'created_at' => Carbon::now(),
                'updated_at' => Carbon::now(),
            ]);
        }
    }
}
